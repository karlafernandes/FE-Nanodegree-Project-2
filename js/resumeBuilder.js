// Model
var model = {
    bio: {
	'name' : 'Karla Fernandes',
	'role' : 'Graphic & Web Designer, Front-End Developer',
	'contacts' : {
		'mobile' : '+55 61 4042 0613',
		'email' : 'karla@vitaminak.com.br',
		'skype' : 'karla.fernandes',
		'github' : 'karlafernandes',
		'twitter' : 'karlafernandes',
		'location' : 'Worldwide',
		'blog' : 'vitaminak.com.br'
	},
	'places' : ['Buenos Aires, Argentina', 'Luzern, Swtizerland', 'Berlin, Germany', 'Paris, France', 'Marrakesh, Morroco', 'Istanbul, Turkey'],
	'welcomeMessage' : 'I am a Digital Nomad, and I have the gift of Creativity.\nFor the last decade, I have operated my own company, which has impacted almost every aspect of my life. I do what I love every day; creating unique solutions for clients, producing content that exceeds expectations and overcoming diverse challenges.\nTen years of independent consultation and 4 years of prior professional work has taught me the importance of staying on top of new technologies and growing with the ever-changing technologies that make responsive design and development. Learning from each project has ensured that my career continues to flourish and has helped me to grow both as a professional and as a person.\n While I would be most comfortable to work at a place which employs the technologies I am familiar with, I pick up languages and frameworks quickly and would be happy to acquire new skills and knowledge.',
	'skills' : ['Ilustrator', 'InDesign', 'Photoshop', 'HTML5', 'CSS', 'Python', 'Javascript/jQuery', 'Zope/Plone', 'Wordpress', 'Drupal', 'Joomla', 'Responsive Design', 'User Experience'],
	'bioPic' : 'images/biopic.jpg',
	},
	education : {
		'schools' : [
		{
			'name' : 'Front-End Web Developer Nanodegree',
			'location' : 'Remote',
			'degree' : 'Nanodegree',
			'majors' : 'Front-End Web Developer',
			'dates' : 2016,
			'url' : 'https://www.udacity.com/course/nd001'
		},	
		{
			'name' : 'Unieuro - Universidade Euro Americana',
			'location' : 'Brasília, Brazil',
			'degree' : 'Bachelor of Science (BS)',
			'majors' : 'Technology in Interior Design',
			'dates' : 2008,
			'url' : 'http://unieuro.edu.br'
		},
		{
			'name' : 'EAFUDI - Agrotechnical School of Uberlândia',
			'location' : 'Uberlândia, Brazil',
			'degree' : 'Bachelor of Technology (B.Tech.)',
			'majors' : 'Computer Technician Course',
			'dates' : 2003,
			'url' : 'http://eafudi.gov.br'
			}],
		'online' : [
		{
			'title' : 'Shaping up with Angular.js',
			'school' : 'Code School',
			'dates' : 2016,
			'url' : 'https://www.codeschool.com/courses/shaping-up-with-angular-js'
		},		
		{
			'title' : 'Online Advertising',
			'school' : 'Open2Study by Patty Keegan',
			'dates' : 2014,
			'url' : 'https://www.open2study.com/node/195'
		},
		{
			'title' : 'Writing for the Web',
			'school' : 'Open2Study by Frankie Madden',
			'dates' : 2013,
			'url' : 'https://www.open2study.com/node/76'
		},
		{
			'title' : 'User Experience for the Web',
			'school' : 'Open2Study by Amir Ansari',
			'dates' : 2013,
			'url' : 'https://www.open2study.com/node/75'
		},
		{
			'title' : 'User Experience for the Web',
			'school' : 'Open2Study by Amir Ansari',
			'dates' : 2013,
			'url' : 'https://www.open2study.com/node/75'
		},
		{
			'title' : 'Zope Techinical Solutions',
			'school' : 'Simples Consultoria',
			'dates' : 2005,
			'url' : 'http://zope.org'
		}]
	},
	work : {
		'jobs' : [
		{
			'employer' : 'Vitamina K',
			'title' : 'Managing Partner, Graphic & Web Designer, Front-End Developer',
			'location' : 'Brasília, Brazil',
			'dates' : 'January 2006 - Current',
			'description' : 'Create brands, corporate identity & communications, promotional material, magazines/books/newspapers for a huge variety of products and activities. Customize Themes in Plone, WordPress, Drupal, Joomla and Magento and develop websites layouts determined by technical requirements, present ideas to satisfy and meet customers needs. Perform browser testing and debugging, custom written JavaScript/Scripts/Programming, solve code problems and update websites. Manage projects with creative flair, up-to-date knowledge of industry software and a professional approach to time, costs and deadlines.'
		},
		{
			'employer' : 'Chamber of Deputies [Soma Soluções]',
			'title' : 'Graphic & Web Designer, Plone Developer',
			'location' : 'Brasília, Brazil',
			'dates' : 'July 2004 - December 2005',
			'description' : 'Developed creative ideas and concepts for plenarinho.gov.br, chose the appropriate media and style to meet objectives in advertising, magazines, posters, exhibitions and corporate identity.'
		},
		{
			'employer' : 'Ministry of Labor and Employment [Politec]',
			'title' : 'Graphic & Web Designer, PHP Developer',
			'location' : 'Brasília, Brazil',
			'dates' : 'January - July 2004',
			'description' : 'Designed solutions to implement a high visual impact for the mte.gov.br website and all corporate communications.'
		},
		{
			'employer' : 'WebDaqui',
			'title' : 'WebDesigner',
			'location' : 'Brasília, Brazil',
			'dates' : 'August 2003 - January 2004',
			'description' : 'Created look, layout and features of websites for diverse industries. Designed solutions for advertising, banners, corporate communications and corporate identity.'
		},
		{
			'employer' : 'Bit House Brazil, Jornal O Triângulo & Registro Fotolito',
			'title' : 'Web Designer, Graphic Designer & Editor',
			'location' : 'Uberlândia, Brazil',
			'dates' : 'March 1998 - April 2003',
			'description' : 'Developed sites structure, design and page templates. Executed editorial decisions with timeliness and precision. Maintained clear and constructive communication. Monitored the entire process of photolithography. '
		},
		{
			'employer' : 'Gráfica Real',
			'title' : 'Graphic Designer & Editor',
			'location' : 'Patrocínio, Brazil',
			'dates' : 'February - November 1997',
			'description' : 'Printed and photo processed design solutions such as flyers, advertising, books, newspapers, magazines, posters, product packaging, displays and corporate communications.'
		}]
	},
	projects : {
		'project' : [{
			'title' : 'DB-Beauty Services',
			'dates' : 'Mai 2015',
			'description' : 'Graphic Design: Flyer, Ilustrator.',
			'images' : ['work1']
		},
		{
			'title' : 'Image+ Christmas',
			'dates' : 'November 2014',
			'description' : 'Graphic Design: Flyer, Ilustrator.',
			'images' : ['work2']
		},
		{
			'title' : 'WTS Courses',
			'dates' : 'July 2014',
			'description' : 'Graphic Design: Flyer, Ilustrator.',
			'images' : ['work3']
		}]
	}		
	
	
		
};

// Controller
var controller = {
    init: function() {
        // set our current cat to the first one in the list
        bio = model.bio;
		education = model.education;
		work = model.work;
		projects = model.projects;
		
        // tell our views to initialize
        bioView.init();
		
		for (var school=0; school < education.schools.length; school++) {
			educationView.initSchool(education.schools[school]);
		}
		
		for (var course=0; course < education.online.length; course++) {
			educationView.initCourse(education.online[course]);
		}
		
		for (var job=0; job < work.jobs.length; job++) {
			workView.init(work.jobs[job]);
		}
		
		for (var item=0; item < projects.project.length; item++) {		
			projectView.init(projects.project[item]);
		}
	
        mapView.init();		
				
    },
};

// View
var bioView = {
	init: function() {
		this.formattedName = HTMLheaderName.replace('%data%', bio.name);
		this.formattedRole = HTMLheaderRole.replace('%data%', bio.role);
		this.formattedMobile = HTMLmobile.replace('%data%', bio.contacts['mobile']);
		this.formattedEmail = HTMLemail.replace('%data%', bio.contacts['email']).replace('%data%', bio.contacts['email']);
		this.formattedSkype = HTMLcontactGeneric.replace('%contact%','skype').replace('%data%', bio.contacts['skype']);
		this.formattedGithub = HTMLgithub.replace('%data%', bio.contacts['github']).replace('%data%', bio.contacts['github']);
		this.formattedTwitter = HTMLtwitter.replace('%data%', bio.contacts['twitter']).replace('%data%', bio.contacts['twitter']);
		this.formattedPortfolio = HTMLblog.replace('%data%', bio.contacts['blog']).replace('%data%', bio.contacts['blog']);
		this.formattedLocation = HTMLlocation.replace('%data%', bio.contacts['location']);
		this.formattedImage = HTMLbioPic.replace('%data%', bio.bioPic);
		this.formattedMessage = HTMLwelcomeMsg.replace('%data%', bio.welcomeMessage);
		this.formattedSkills = "";
		for (var skill=0; skill < bio.skills.length; skill++) {
			this.formattedSkills += HTMLskills.replace('%data%', bio.skills[skill]);
		};		

        this.render();	
	},

	render: function() {
		$('#header').append(this.formattedImage, internationalizeButton);
		$('#headerTxt').prepend(this.formattedRole).prepend(this.formattedName).append(this.formattedMessage);
		$('#skills-box').append(HTMLskillsStart);
		$('#skills').append(this.formattedSkills);
		$('#footerContacts').append(this.formattedMobile, this.formattedEmail, this.formattedSkype);
		$('#footerContacts2').append(this.formattedGithub, this.formattedTwitter, this.formattedPortfolio);
	},	
};

var educationView = {	
	initSchool: function(data) {
		this.formattedName = HTMLschoolName.replace('%data%', data.name).replace('#', data.url);
		this.formattedLocation = HTMLschoolLocation.replace('%data%', data.location);
		this.formattedDegree = HTMLschoolDegree.replace('%data%', data.degree);
		this.formattedMajor = HTMLschoolMajor.replace('%data%', data.majors);
		this.formattedDates = HTMLschoolDates.replace('%data%', data.dates);
		
        this.renderSchool();				
	},

	renderSchool: function() {
		$('#education').append(HTMLschoolStart);
		$('.education-entry:last').append(this.formattedLocation + this.formattedDates, this.formattedName + this.formattedDegree, this.formattedMajor);
	},	
	
	initCourse: function(data) {
		this.formattedOnlineTitle = HTMLonlineTitle.replace('%data%', data.title).replace('#', data.url);
		this.formattedOnlineSchool = HTMLonlineSchool.replace('%data%', data.school);
		this.formattedOnlineDates = HTMLonlineDates.replace('%data%', data.dates);
		
        this.renderCourse();						
	},	

	renderCourse: function() {
		$('#online').append(HTMLonlineStart);
		$('.online-entry:last').prepend(this.formattedOnlineTitle, this.formattedOnlineSchool + this.formattedOnlineDates);
	},	
};

var workView = {
	init: function(data) {	
		this.formattedEmployer = HTMLworkEmployer.replace('%data%', data.employer);
		this.formattedTitle = HTMLworkTitle.replace('%data%', data.title);
		this.formattedDates = HTMLworkDates.replace('%data%', data.dates);
		this.formattedDescription = HTMLworkDescription.replace('%data%', data.description);

        this.render();	
	},

	render: function() {
		$('#workExperience').append(HTMLworkStart);
		$('.work-entry:last').append(this.formattedEmployer + this.formattedTitle, this.formattedDates, this.formattedDescription);
	},	
};

var projectView = {
	init: function(data) {	
		this.formattedTitle = HTMLprojectTitle.replace('%data%', data.title);
		this.formattedDates = HTMLprojectDates.replace('%data%', data.dates);
		this.formattedDescription = HTMLprojectDescription.replace('%data%', data.description);
		for (var image=0; image < data.images.length; image++) {
			this.formattedImage = HTMLprojectImage.replace(new RegExp('%data%', 'g'), data.images[image]);
		};
		
        this.render();	
	},

	render: function() {
		$('#projects').append(HTMLprojectStart);
		$('.project-entry:last').append(this.formattedDates, this.formattedTitle);
		$('.project-entry:last').append(this.formattedImage);
		$('.project-entry:last').append(this.formattedDescription);
	},	
};

var mapView = {
	init: function() {			
        this.render();	
	},

	render: function() {
		$('#mapDiv').append(googleMap);
	},	
};



// make it go!
controller.init();